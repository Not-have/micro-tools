# @mt-kit/cli-run

ä¸€ä¸ªç”¨äºåœ¨ monorepo ä¸­æ™ºèƒ½è¿è¡Œè„šæœ¬çš„ CLI å·¥å…·ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸš€ **æ™ºèƒ½åŒ…å‘ç°**ï¼šè‡ªåŠ¨å‘ç° monorepo ä¸­åŒ…å«æŒ‡å®šè„šæœ¬çš„åŒ…ï¼Œé»˜è®¤å€¼ä¸º `start,dev,storybook`
- ğŸ¯ **ç²¾ç¡®èŒƒå›´æ§åˆ¶**ï¼šæ”¯æŒæŒ‡å®šç›®å½•èŒƒå›´ï¼Œåªåœ¨ç‰¹å®šç›®å½•ä¸‹æŸ¥æ‰¾åŒ…
- ğŸ“‹ **äº¤äº’å¼é€‰æ‹©**ï¼šå½“æœ‰å¤šä¸ªåŒ…æ—¶ï¼Œæä¾›å‹å¥½çš„é€‰æ‹©ç•Œé¢
- ğŸ”§ **å¤šå‘½ä»¤æ”¯æŒ**ï¼šæ”¯æŒå•ä¸ªå‘½ä»¤æˆ–å‘½ä»¤æ•°ç»„
- ğŸ“¦ **åŒ…ä¿¡æ¯æ˜¾ç¤º**ï¼šæ˜¾ç¤ºåŒ…åã€æè¿°å’Œç‰ˆæœ¬ä¿¡æ¯

## å®‰è£…

```bash
# ä½¿ç”¨ npm
npm install -D @mt-kit/cli-run

# ä½¿ç”¨ yarn
yarn add -D @mt-kit/cli-run

# ä½¿ç”¨ pnpm
pnpm add -D @mt-kit/cli-run
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç”¨æ³•

```bash
# è¿è¡Œå•ä¸ªå‘½ä»¤
mt-run start

# è¿è¡Œå¤šä¸ªå‘½ä»¤ï¼ˆé€—å·åˆ†éš”ï¼‰ï¼ˆæ¨èï¼‰
mt-run start,storybook

# è¿è¡Œå¤šä¸ªå‘½ä»¤ï¼ˆJSON æ•°ç»„æ ¼å¼ï¼‰
mt-run '["start", "storybook"]'

# æ‰“åŒ…
mt-run build
```

### æŒ‡å®šç›®å½•èŒƒå›´

```bash
# åªåœ¨ packages-vue ç›®å½•ä¸‹æŸ¥æ‰¾åŒ…
mt-run start --root ./packages-vue

# åªåœ¨ packages-react ç›®å½•ä¸‹æŸ¥æ‰¾åŒ…
mt-run storybook --root ./packages-react

# ä½¿ç”¨ç»å¯¹è·¯å¾„
mt-run start --root /path/to/your/monorepo/packages-vue
```

### åœ¨ package.json ä¸­ä½¿ç”¨

```json
{
  "scripts": {
    "start": "mt-run start",
    "start:vue": "mt-run start --root ./packages-vue",
    "start:react": "mt-run start --root ./packages-react",
    "dev": "mt-run start,storybook",
    "dev:vue": "mt-run start,storybook --root ./packages-vue"
  }
}
```

## äº¤äº’å¼é€‰æ‹©

å½“æœ‰å¤šä¸ªåŒ…åŒ…å«ç›¸åŒçš„è„šæœ¬æ—¶ï¼Œå·¥å…·ä¼šæ˜¾ç¤ºäº¤äº’å¼é€‰æ‹©ç•Œé¢ï¼š

```text
? è¯·é€‰æ‹©éœ€è¦æ‰§è¡Œçš„åŒ… start, storybook: â€º
â¯ @mt-kit/vue-components (Vue ç»„ä»¶åº“) [start] v1.0.0
  @mt-kit/react-components (React ç»„ä»¶åº“) [start] v1.0.0
  @mt-kit/utils (å·¥å…·å‡½æ•°åº“) [start] v1.0.0
```

é€‰æ‹©ç•Œé¢ä¼šæ˜¾ç¤ºï¼š

- åŒ…åå’Œæè¿°
- åŒ¹é…çš„è„šæœ¬ç±»å‹
- ç‰ˆæœ¬å·

## é…ç½®è¯´æ˜

### æ”¯æŒçš„åŒ…ç®¡ç†å™¨

- âœ… pnpmï¼ˆæ¨èï¼‰
- âœ… npm
- âœ… yarn

### åŒ…è¿‡æ»¤è§„åˆ™

- è‡ªåŠ¨è·³è¿‡ `private: true` çš„åŒ…
- è‡ªåŠ¨æ’é™¤ `node_modules` ç›®å½•
- åªæŸ¥æ‰¾åŒ…å«æŒ‡å®šè„šæœ¬çš„åŒ…

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ‰¾ä¸åˆ°åŒ…**
   + æ£€æŸ¥ `--root` è·¯å¾„æ˜¯å¦æ­£ç¡®
   + ç¡®è®¤åŒ…ä¸­åŒ…å«æŒ‡å®šçš„è„šæœ¬

2. **æƒé™é—®é¢˜**
   + ç¡®ä¿æœ‰æ‰§è¡Œè„šæœ¬çš„æƒé™
   + æ£€æŸ¥åŒ…çš„ `package.json` é…ç½®

3. **è„šæœ¬ä¸å­˜åœ¨**
   + ç¡®è®¤åŒ…ä¸­ç¡®å®åŒ…å«æŒ‡å®šçš„è„šæœ¬
   + æ£€æŸ¥è„šæœ¬åç§°æ˜¯å¦æ­£ç¡®
